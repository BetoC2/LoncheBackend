<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>User Actions</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
      }
      button {
        margin: 5px;
        padding: 10px;
        font-size: 16px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <h2>Usuario: 67192020522a6e3bf45c871f</h2>
    <button id="likeButton">Dar Like a Publicación</button>
    <button id="commentButton">Comentar Publicación</button>
    <button id="followButton">Seguir al Usuario</button>

    <script src="/socket.io/socket.io.js"></script>
    <script>
      const socket = io('http://localhost:4321');

      // Datos del usuario y acción
      const id_user = '67192020522a6e3bf45c871f'; // ID del usuario que realiza la acción
      const username = 'user123'; // Nombre de usuario del que realiza la acción
      const id_receiver = '671ae1165099e4fa27629ba0'; // ID del usuario que recibirá la notificación
      const id_post = 'post456'; // ID de una publicación

      // Unirse a la sala del usuario que enviará las notificaciones
      socket.emit('joinRoom', id_user);

      // Manejar los botones de acción
      document.getElementById('likeButton').addEventListener('click', () => {
        socket.emit('sendPostNotification', {
          id_user,
          id_post,
          id_receiver,
          username,
          actionType: 'like',
        });
      });

      document.getElementById('commentButton').addEventListener('click', () => {
        socket.emit('sendPostNotification', {
          id_user,
          id_post,
          id_receiver,
          username,
          actionType: 'comment',
        });
      });

      document.getElementById('followButton').addEventListener('click', () => {
        socket.emit('sendFollowNotification', {
          id_user,
          id_receiver,
          username,
        });
      });
    </script>
  </body>
</html>
